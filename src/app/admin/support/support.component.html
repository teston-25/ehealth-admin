<div class="flex-1 p-6">
  <!-- Page Title -->
  <h1 class="text-3xl font-bold text-gray-800 mb-6">Support Dashboard</h1>

  <!-- Support Requests Overview -->
  <div class="bg-white p-6 rounded-lg shadow-md mb-8">
    <h2 class="text-2xl font-semibold text-gray-700">Support Requests</h2>
    <p class="text-gray-500 mt-2 mb-6">
      View and manage incoming support requests.
    </p>

    <!-- Requests List -->
    <div class="space-y-4">
      <div *ngFor="let request of supportRequests">
        <div
          class="flex flex-col mob:flex-row mob:justify-between bg-gray-50 p-4 rounded-lg shadow-sm"
        >
          <div>
            <p class="font-semibold text-lg">{{ request.title }}</p>
            <p class="text-sm text-gray-600">
              Patient: {{ request.patientName }}
            </p>
            <p class="text-sm text-gray-400">Issue: {{ request.issue }}</p>
          </div>
          <div
            class="flex flex-wrap justify-start mob:space-x-2 mob:mt-4 tab:space-x-3 pc:space-x-4 pc:mt-0"
          >
            <button
              (click)="viewRequest(request)"
              class="bg-blue-500 text-white px-4 py-2 rounded mt-2 tab:px-3 tab:py-2 pc:px-4 pc:py-2"
            >
              View Details
            </button>
            <button
              (click)="assignSupportAgent(request)"
              class="bg-green-500 text-white px-4 py-2 rounded mt-2 tab:px-3 tab:py-2 pc:px-4 pc:py-2"
            >
              Assign Agent
            </button>
            <button
              (click)="resolveRequest(request)"
              class="bg-yellow-500 text-white px-4 py-2 rounded mt-2 tab:px-3 tab:py-2 pc:px-4 pc:py-2"
            >
              Resolve
            </button>
            <button
              (click)="closeRequest(request)"
              class="bg-red-500 text-white px-4 py-2 rounded mt-2 tab:px-3 tab:py-2 pc:px-4 pc:py-2"
            >
              Close
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Support Chat Management -->
  <div class="bg-white p-6 rounded-lg shadow-md mb-8">
    <h2 class="text-2xl font-semibold text-gray-700">
      Support Chat Management
    </h2>
    <p class="text-gray-500 mt-2 mb-6">
      Monitor ongoing support chats between agents and users.
    </p>

    <!-- Chat List -->
    <div class="space-y-4">
      <div *ngFor="let chat of activeChats">
        <div
          class="flex flex-col mob:flex-row mob:justify-between bg-gray-50 p-4 rounded-lg shadow-sm"
        >
          <div>
            <p class="font-semibold text-lg">Chat with: {{ chat.userName }}</p>
            <p class="text-sm text-gray-600">
              Last Message: "{{ chat.lastMessage }}"
            </p>
          </div>
          <div
            class="flex flex-wrap justify-start mob:space-x-2 mob:mt-4 tab:space-x-3 pc:space-x-4 pc:mt-0"
          >
            <button
              (click)="joinChat(chat)"
              class="bg-blue-500 text-white px-4 py-2 rounded mt-2 tab:px-3 tab:py-2 pc:px-4 pc:py-2"
            >
              Join Chat
            </button>
            <button
              (click)="viewChatLogs(chat)"
              class="bg-gray-500 text-white px-4 py-2 rounded mt-2 tab:px-3 tab:py-2 pc:px-4 pc:py-2"
            >
              View Logs
            </button>
            <button
              (click)="closeChat(chat)"
              class="bg-red-500 text-white px-4 py-2 rounded mt-2 tab:px-3 tab:py-2 pc:px-4 pc:py-2"
            >
              Close Chat
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Ticket Tracking -->
  <div class="bg-white p-6 rounded-lg shadow-md">
    <h2 class="text-2xl font-semibold text-gray-700">Ticket Tracking</h2>
    <p class="text-gray-500 mt-2 mb-6">
      Track the status and history of support tickets.
    </p>

    <!-- Tickets List -->
    <div class="space-y-4">
      <div *ngFor="let ticket of supportTickets">
        <div
          class="flex flex-col mob:flex-row mob:justify-between bg-gray-50 p-4 rounded-lg shadow-sm"
        >
          <div>
            <p class="font-semibold text-lg">Ticket ID: {{ ticket.id }}</p>
            <p class="text-sm text-gray-600">Status: {{ ticket.status }}</p>
            <p class="text-sm text-gray-400">
              Last Updated: {{ ticket.lastUpdated }}
            </p>
          </div>
          <div
            class="flex flex-wrap justify-start mob:space-x-2 mob:mt-4 tab:space-x-3 pc:space-x-4 pc:mt-0"
          >
            <!-- Optional buttons for future functionality -->
            <button
              (click)="viewTicketHistory(ticket)"
              class="bg-blue-500 text-white px-4 py-2 rounded"
            >
              View History
            </button>
            <button
              (click)="changeTicketStatus(ticket)"
              class="bg-yellow-500 text-white px-4 py-2 rounded"
            >
              Change Status
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
